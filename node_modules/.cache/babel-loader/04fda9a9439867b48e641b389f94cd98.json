{"ast":null,"code":"var _jsxFileName = \"/Users/sarahbawabe/Documents/verb-website/verb-app/src/ProductList.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Product from \"./Product.js\";\nimport CartItem from \"./CartItem.js\";\nimport './style.css';\nimport { Switch, Route, Link } from \"react-router-dom\";\n/* constants used throughout program for sales, shipping, and tax, so that\n * these quantities can be easily updated, as necessary. */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SHIPPING_COST = 3;\nconst TAX_PERCENT = 6.25;\nconst SALE_PERCENT = 15;\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cart: [],\n      quantities: []\n    };\n  }\n  /**\n  * Increases item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n\n\n  addToCart(item) {\n    if (this.state.cart.includes(item)) {\n      // if in cart, update quantity\n      var index = this.state.cart.indexOf(item);\n      var holder = this.state.quantities;\n      holder[index] += 1;\n      this.setState({\n        quantities: holder\n      });\n    } else {\n      // if not in cart, add to cart and store quantity as 1\n      this.setState({\n        cart: this.state.cart.concat([item]),\n        quantities: this.state.quantities.concat([1.0])\n      });\n    }\n  }\n  /**\n  * Removes the item completely from the cart.\n  * @param item : item to be removed from cart\n  */\n\n\n  removeItem(item) {\n    if (this.state.cart.includes(item)) {\n      if (this.state.cart.length == 1) {\n        // if last in cart, clear\n        this.setState({\n          cart: [],\n          quantities: []\n        });\n      } else {\n        var index = this.state.cart.indexOf(item);\n        var cart = this.state.cart;\n        cart.splice(index, 1);\n        var quantities = this.state.quantities;\n        quantities.splice(index, 1);\n        this.setState({\n          cart: cart,\n          quantities: quantities\n        });\n      }\n    }\n  }\n  /**\n  * Reduces item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n\n\n  removeOne(item) {\n    if (this.state.cart.includes(item)) {\n      var index = this.state.cart.indexOf(item);\n      var holder = this.state.quantities;\n      holder[index] -= 1;\n      this.setState({\n        quantities: holder\n      });\n    }\n  }\n  /**\n  * Totals the cost of the items in the cart, taking into account the quantities\n  * of each.\n  * @return subtotal of cart\n  */\n\n\n  getSubtotal() {\n    var subtotal = 0;\n\n    for (var i = 0; i < this.state.cart.length; i++) {\n      var item = this.state.cart[i];\n\n      if (item.onSale == \"True\") {\n        subtotal += item.price * (1 - SALE_PERCENT / 100) * this.state.quantities[i];\n      } else {\n        subtotal += item.price * this.state.quantities[i];\n      }\n    }\n\n    return subtotal;\n  }\n  /**\n  * Totals the cost of the tax, given the subtotal.\n  * @param subtotal of items in cart\n  * @return cost of tax\n  */\n\n\n  getTax(subtotal) {\n    var taxToPercent = TAX_PERCENT / 100;\n    return taxToPercent * subtotal;\n  }\n  /**\n  * Totals the cost of the cart, taking into account subtotal, tax, and shipping.\n  * @param subtotal of items in cart\n  * @param tax to be added\n  * @return total of cart\n  */\n\n\n  getTotal(subtotal, tax) {\n    if (subtotal == 0) {\n      // if nothing in cart, it's weird to charge for shipping, so return 0\n      return 0;\n    }\n\n    return subtotal + tax + SHIPPING_COST;\n  }\n  /** Renders the product list by calling renderProduct() on each item. */\n\n\n  renderList() {\n    const items = this.props.list.map(item => {\n      return this.renderProduct(item);\n    });\n    return items;\n  }\n  /** Renders a product tile to be displayed in product list. */\n\n\n  renderProduct(item) {\n    // redirectCB={this.renderProductPage.bind(this)}\n    return /*#__PURE__*/_jsxDEV(Product, {\n      item: item,\n      addToCartCB: this.addToCart.bind(this),\n      sale: SALE_PERCENT\n    }, item.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this);\n  }\n  /** Renders the list of cart items. */\n\n\n  renderCartItems() {\n    if (this.state.cart.length == 0) {\n      return /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"your shopping bag is empty! :(\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 14\n      }, this);\n    }\n\n    const items = this.state.cart.map(item => {\n      var index = this.state.cart.indexOf(item);\n      return /*#__PURE__*/_jsxDEV(CartItem, {\n        item: item,\n        quantity: this.state.quantities[index],\n        removeAllCB: this.removeItem.bind(this),\n        addToCartCB: this.addToCart.bind(this),\n        removeOneCB: this.removeOne.bind(this),\n        sale: SALE_PERCENT\n      }, item.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 14\n      }, this);\n    });\n    return items;\n  }\n  /** Renders the shopping cart, calling the renderCartItems() function and\n  * also handling the totals portion. */\n\n\n  renderCart(subtotal, tax, total) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [this.renderCartItems(), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"subtotal: $\", subtotal.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"tax (\", TAX_PERCENT, \"%): $\", tax.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"shipping: $\", SHIPPING_COST.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"total: $\", total.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this);\n  }\n  /** Renders the page, determining what should be shown based on url route. */\n\n\n  render() {\n    var subtotal = this.getSubtotal();\n    var tax = this.getTax(subtotal);\n    var total = this.getTotal(subtotal, tax); // based on the url route, determine which page to show\n    // {this.renderProduct(this.props.location.state.item)}\n\n    console.log(this.props.location); // {this.renderProduct(this.props.location.state.item)}\n\n    return /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/product\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"shopping-cart\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"align-text-svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"shopping bag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              height: \"35\",\n              viewBox: \"0 0 21 21\",\n              width: \"35\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\",\n                fill: \"none\",\n                stroke: \"#2a2e3b\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                transform: \"translate(4 4)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 150\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), this.renderCart(subtotal, tax, total), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/checkout\",\n            className: \"unstyled-link\",\n            children: \"checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/checkout\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"checkout page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"shopping-cart\",\n          children: this.renderCart(subtotal, tax, total)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"product-list\",\n            children: this.renderList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"shopping-cart\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"align-text-svg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"shopping bag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 48\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                height: \"35\",\n                viewBox: \"0 0 21 21\",\n                width: \"35\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\",\n                  fill: \"none\",\n                  stroke: \"#2a2e3b\",\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  transform: \"translate(4 4)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 152\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), this.renderCart(subtotal, tax, total), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/checkout\",\n              className: \"button unstyled-link\",\n              children: \"checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n\n} // <button onClick={this.goToCheckout()}>checkout</button>\n\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/sarahbawabe/Documents/verb-website/verb-app/src/ProductList.js"],"names":["React","Component","Product","CartItem","Switch","Route","Link","SHIPPING_COST","TAX_PERCENT","SALE_PERCENT","ProductList","constructor","props","state","cart","quantities","addToCart","item","includes","index","indexOf","holder","setState","concat","removeItem","length","splice","removeOne","getSubtotal","subtotal","i","onSale","price","getTax","taxToPercent","getTotal","tax","renderList","items","list","map","renderProduct","bind","name","renderCartItems","renderCart","total","toFixed","render","console","log","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Product from \"./Product.js\";\nimport CartItem from \"./CartItem.js\";\nimport './style.css';\nimport {\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n/* constants used throughout program for sales, shipping, and tax, so that\n * these quantities can be easily updated, as necessary. */\nconst SHIPPING_COST = 3;\nconst TAX_PERCENT = 6.25;\nconst SALE_PERCENT = 15;\n\n\nclass ProductList extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        cart: [],\n        quantities: []\n      }\n    }\n\n  /**\n  * Increases item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n  addToCart(item) {\n    if (this.state.cart.includes(item)) { // if in cart, update quantity\n      var index = this.state.cart.indexOf(item)\n      var holder = this.state.quantities\n      holder[index] += 1\n      this.setState({quantities: holder})\n    } else { // if not in cart, add to cart and store quantity as 1\n      this.setState({\n        cart: this.state.cart.concat([item]),\n        quantities: this.state.quantities.concat([1.0])\n      })\n    }\n  }\n\n  /**\n  * Removes the item completely from the cart.\n  * @param item : item to be removed from cart\n  */\n  removeItem(item) {\n    if (this.state.cart.includes(item)) {\n      if (this.state.cart.length == 1) { // if last in cart, clear\n        this.setState({cart: [], quantities: []})\n      } else {\n        var index = this.state.cart.indexOf(item)\n        var cart = this.state.cart\n        cart.splice(index,1)\n        var quantities = this.state.quantities\n        quantities.splice(index,1)\n        this.setState({cart: cart, quantities: quantities})\n      }\n    }\n  }\n\n  /**\n  * Reduces item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n  removeOne(item) {\n    if (this.state.cart.includes(item)) {\n      var index = this.state.cart.indexOf(item)\n      var holder = this.state.quantities\n      holder[index] -= 1\n      this.setState({quantities: holder});\n    }\n  }\n\n  /**\n  * Totals the cost of the items in the cart, taking into account the quantities\n  * of each.\n  * @return subtotal of cart\n  */\n  getSubtotal() {\n    var subtotal = 0\n    for (var i=0; i < this.state.cart.length; i++) {\n      var item = this.state.cart[i]\n      if (item.onSale == \"True\") {\n        subtotal += (item.price * (1 - SALE_PERCENT/100)) * this.state.quantities[i]\n      } else {\n        subtotal += item.price * this.state.quantities[i]\n      }\n    }\n    return subtotal\n  }\n\n  /**\n  * Totals the cost of the tax, given the subtotal.\n  * @param subtotal of items in cart\n  * @return cost of tax\n  */\n  getTax(subtotal) {\n    var taxToPercent = TAX_PERCENT/100\n    return (taxToPercent * subtotal)\n  }\n\n  /**\n  * Totals the cost of the cart, taking into account subtotal, tax, and shipping.\n  * @param subtotal of items in cart\n  * @param tax to be added\n  * @return total of cart\n  */\n  getTotal(subtotal, tax) {\n    if (subtotal == 0) { // if nothing in cart, it's weird to charge for shipping, so return 0\n      return 0\n    }\n    return subtotal + tax + SHIPPING_COST\n  }\n\n  /** Renders the product list by calling renderProduct() on each item. */\n  renderList() {\n    const items = this.props.list.map(item => {\n        return this.renderProduct(item)\n    });\n    return items;\n  }\n\n  /** Renders a product tile to be displayed in product list. */\n  renderProduct(item) {\n    // redirectCB={this.renderProductPage.bind(this)}\n    return (<Product key={item.name}\n              item={item}\n              addToCartCB={this.addToCart.bind(this)}\n              sale={SALE_PERCENT}/>)\n  }\n\n  /** Renders the list of cart items. */\n  renderCartItems() {\n    if (this.state.cart.length == 0) {\n      return <h3><strong>your shopping bag is empty! :(</strong></h3>\n    }\n    const items = this.state.cart.map(item => {\n      var index = this.state.cart.indexOf(item)\n      return <CartItem key={item.name}\n                item={item}\n                quantity={this.state.quantities[index]}\n                removeAllCB={this.removeItem.bind(this)}\n                addToCartCB={this.addToCart.bind(this)}\n                removeOneCB={this.removeOne.bind(this)}\n                sale={SALE_PERCENT}/>\n    });\n    return items\n  }\n\n  /** Renders the shopping cart, calling the renderCartItems() function and\n  * also handling the totals portion. */\n  renderCart(subtotal, tax, total) {\n    return (\n      <span>\n        {this.renderCartItems()}\n        <h3>subtotal: ${subtotal.toFixed(2)}</h3>\n        <h4>tax ({TAX_PERCENT}%): ${tax.toFixed(2)}</h4>\n        <h4>shipping: ${SHIPPING_COST.toFixed(2)}</h4>\n        <h2>total: ${total.toFixed(2)}</h2>\n      </span>\n    )\n  }\n\n  /** Renders the page, determining what should be shown based on url route. */\n  render() {\n    var subtotal = this.getSubtotal()\n    var tax = this.getTax(subtotal)\n    var total = this.getTotal(subtotal, tax)\n\n    // based on the url route, determine which page to show\n\n    // {this.renderProduct(this.props.location.state.item)}\n    console.log(this.props.location)\n\n    // {this.renderProduct(this.props.location.state.item)}\n    return (\n      <Switch>\n\n        <Route path=\"/product\">\n          <div id=\"shopping-cart\">\n            <span className=\"align-text-svg\"><h1>shopping bag</h1><svg height=\"35\" viewBox=\"0 0 21 21\" width=\"35\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\" fill=\"none\" stroke=\"#2a2e3b\" strokeLinecap=\"round\" strokeLinejoin=\"round\" transform=\"translate(4 4)\"/></svg>\n            </span>\n            {this.renderCart(subtotal, tax, total)}\n            <Link to=\"/checkout\" className=\"unstyled-link\">checkout</Link>\n          </div>\n        </Route>\n\n        <Route path=\"/checkout\">\n          <h1>checkout page</h1>\n          <div id=\"shopping-cart\">\n            {this.renderCart(subtotal, tax, total)}\n          </div>\n        </Route>\n\n        <Route path=\"/\">\n          <div className=\"app-container\">\n            <div id=\"product-list\">\n              {this.renderList()}\n            </div>\n            <div id=\"shopping-cart\">\n              <span className=\"align-text-svg\"><h1>shopping bag</h1><svg height=\"35\" viewBox=\"0 0 21 21\" width=\"35\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\" fill=\"none\" stroke=\"#2a2e3b\" strokeLinecap=\"round\" strokeLinejoin=\"round\" transform=\"translate(4 4)\"/></svg>\n              </span>\n              {this.renderCart(subtotal, tax, total)}\n              <Link to=\"/checkout\" className=\"button unstyled-link\">checkout</Link>\n            </div>\n          </div>\n        </Route>\n      </Switch>\n\n    );\n  }\n}\n// <button onClick={this.goToCheckout()}>checkout</button>\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}