{"ast":null,"code":"var _jsxFileName = \"/Users/sarahbawabe/Documents/verb-website/verb-app/src/ProductList.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Product from \"./Product.js\";\nimport CartItem from \"./CartItem.js\";\nimport './style.css';\nimport { Switch, Route, Link } from \"react-router-dom\"; // constants used throughout program for sales, shipping, and tax, so that\n// these quantities can be easily updated if necessary.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SHIPPING_COST = 3;\nconst TAX_PERCENT = 6.25;\nconst SALE_PERCENT = 15;\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cart: [],\n      quantities: []\n    };\n  }\n\n  renderList() {\n    const items = this.props.list.map(item => {\n      return /*#__PURE__*/_jsxDEV(Product, {\n        item: item,\n        addToCartCB: this.addToCart.bind(this),\n        redirectCB: this.renderProductPage.bind(this),\n        sale: SALE_PERCENT\n      }, item.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 16\n      }, this);\n    });\n    return items;\n  }\n\n  renderCartItems() {\n    if (this.state.cart.length == 0) {\n      return /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"your shopping bag is empty! :(\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 14\n      }, this);\n    }\n\n    const items = this.state.cart.map(item => {\n      var index = this.state.cart.indexOf(item);\n      return /*#__PURE__*/_jsxDEV(CartItem, {\n        item: item,\n        quantity: this.state.quantities[index],\n        removeAllCB: this.removeItem.bind(this),\n        addToCartCB: this.addToCart.bind(this),\n        removeOneCB: this.removeOne.bind(this),\n        redirectCB: this.renderProductPage.bind(this),\n        sale: SALE_PERCENT\n      }, item.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }, this);\n    });\n    return items;\n  }\n  /**\n  * Increases item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n\n\n  addToCart(item) {\n    if (this.state.cart.includes(item)) {\n      // if in cart, update quantity\n      var index = this.state.cart.indexOf(item);\n      var holder = this.state.quantities;\n      holder[index] += 1;\n      this.setState({\n        quantities: holder\n      });\n    } else {\n      // if not in cart, add to cart and store quantity as 1\n      this.setState({\n        cart: this.state.cart.concat([item]),\n        quantities: this.state.quantities.concat([1.0])\n      });\n    }\n  }\n  /**\n  * Removes the item completely from the cart.\n  * @param item : item to be removed from cart\n  */\n\n\n  removeItem(item) {\n    if (this.state.cart.includes(item)) {\n      if (this.state.cart.length == 1) {\n        // if last in cart, clear\n        this.setState({\n          cart: [],\n          quantities: []\n        });\n      } else {\n        var index = this.state.cart.indexOf(item);\n        var cart = this.state.cart;\n        cart.splice(index, 1);\n        var quantities = this.state.quantities;\n        quantities.splice(index, 1);\n        this.setState({\n          cart: cart,\n          quantities: quantities\n        });\n      }\n    }\n  }\n  /**\n  * Reduces item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n\n\n  removeOne(item) {\n    if (this.state.cart.includes(item)) {\n      var index = this.state.cart.indexOf(item);\n      var holder = this.state.quantities;\n      holder[index] -= 1;\n      this.setState({\n        quantities: holder\n      });\n    }\n  }\n  /**\n  * Totals the cost of the items in the cart, taking into account the quantities\n  * of each.\n  * @return subtotal of cart\n  */\n\n\n  getSubtotal() {\n    var subtotal = 0;\n\n    for (var i = 0; i < this.state.cart.length; i++) {\n      var item = this.state.cart[i];\n\n      if (item.onSale == \"True\") {\n        subtotal += item.price * (1 - SALE_PERCENT / 100) * this.state.quantities[i];\n      } else {\n        subtotal += item.price * this.state.quantities[i];\n      }\n    }\n\n    return subtotal;\n  }\n  /**\n  * Totals the cost of the tax, given the subtotal.\n  * @param subtotal of items in cart\n  * @return cost of tax\n  */\n\n\n  getTax(subtotal) {\n    var taxToPercent = TAX_PERCENT / 100;\n    return taxToPercent * subtotal;\n  }\n  /**\n  * Totals the cost of the cart, taking into account subtotal, tax, and shipping.\n  * @param subtotal of items in cart\n  * @param tax to be added\n  * @return total of cart\n  */\n\n\n  getTotal(subtotal, tax) {\n    if (subtotal == 0) {\n      // if nothing in cart, it's weird to charge for shipping, so return 0\n      return 0;\n    }\n\n    return subtotal + tax + SHIPPING_COST;\n  }\n\n  renderCart(subtotal, tax, total) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [this.renderCartItems(), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"subtotal: $\", subtotal.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"tax (\", TAX_PERCENT, \"%): $\", tax.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"shipping: $\", SHIPPING_COST.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"total: $\", total.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n\n  renderProduct(item) {\n    return /*#__PURE__*/_jsxDEV(Product, {\n      item: item,\n      addToCartCB: this.addToCart.bind(this),\n      redirectCB: this.renderProductPage.bind(this),\n      sale: SALE_PERCENT\n    }, item.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    var subtotal = this.getSubtotal();\n    var tax = this.getTax(subtotal);\n    var total = this.getTotal(subtotal, tax); // based on the url route, determine which page to show\n\n    return /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/product\",\n        children: [this.renderProduct(props.location.state.item), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"shopping-cart\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"align-text-svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"shopping bag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              height: \"35\",\n              viewBox: \"0 0 21 21\",\n              width: \"35\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\",\n                fill: \"none\",\n                stroke: \"#2a2e3b\",\n                \"stroke-linecap\": \"round\",\n                \"stroke-linejoin\": \"round\",\n                transform: \"translate(4 4)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 150\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), this.renderCart(subtotal, tax, total), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/checkout\",\n            className: \"unstyled-link\",\n            children: \"checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/checkout\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"checkout page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"shopping-cart\",\n          children: this.renderCart(subtotal, tax, total)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"product-list\",\n            children: this.renderList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"shopping-cart\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"align-text-svg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"shopping bag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 50\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                height: \"35\",\n                viewBox: \"0 0 21 21\",\n                width: \"35\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\",\n                  fill: \"none\",\n                  stroke: \"#2a2e3b\",\n                  \"stroke-linecap\": \"round\",\n                  \"stroke-linejoin\": \"round\",\n                  transform: \"translate(4 4)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 154\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), this.renderCart(subtotal, tax, total), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/checkout\",\n              className: \"button unstyled-link\",\n              children: \"checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this);\n  }\n\n} // <button onClick={this.goToCheckout()}>checkout</button>\n\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/sarahbawabe/Documents/verb-website/verb-app/src/ProductList.js"],"names":["React","Component","Product","CartItem","Switch","Route","Link","SHIPPING_COST","TAX_PERCENT","SALE_PERCENT","ProductList","constructor","props","state","cart","quantities","renderList","items","list","map","item","addToCart","bind","renderProductPage","name","renderCartItems","length","index","indexOf","removeItem","removeOne","includes","holder","setState","concat","splice","getSubtotal","subtotal","i","onSale","price","getTax","taxToPercent","getTotal","tax","renderCart","total","toFixed","renderProduct","render","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Product from \"./Product.js\";\nimport CartItem from \"./CartItem.js\";\nimport './style.css';\nimport {\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n// constants used throughout program for sales, shipping, and tax, so that\n// these quantities can be easily updated if necessary.\nconst SHIPPING_COST = 3;\nconst TAX_PERCENT = 6.25;\nconst SALE_PERCENT = 15;\n\n\nclass ProductList extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        cart: [],\n        quantities: []\n      }\n    }\n\n  renderList() {\n    const items = this.props.list.map(item => {\n        return <Product key={item.name}\n                  item={item}\n                  addToCartCB={this.addToCart.bind(this)}\n                  redirectCB={this.renderProductPage.bind(this)}\n                  sale={SALE_PERCENT}/>\n    });\n    return items;\n  }\n\n  renderCartItems() {\n    if (this.state.cart.length == 0) {\n      return <h3><strong>your shopping bag is empty! :(</strong></h3>\n    }\n    const items = this.state.cart.map(item => {\n      var index = this.state.cart.indexOf(item)\n      return <CartItem key={item.name}\n                item={item}\n                quantity={this.state.quantities[index]}\n                removeAllCB={this.removeItem.bind(this)}\n                addToCartCB={this.addToCart.bind(this)}\n                removeOneCB={this.removeOne.bind(this)}\n                redirectCB={this.renderProductPage.bind(this)}\n                sale={SALE_PERCENT}/>\n    });\n    return items\n  }\n\n  /**\n  * Increases item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n  addToCart(item) {\n    if (this.state.cart.includes(item)) { // if in cart, update quantity\n      var index = this.state.cart.indexOf(item)\n      var holder = this.state.quantities\n      holder[index] += 1\n      this.setState({quantities: holder})\n    } else { // if not in cart, add to cart and store quantity as 1\n      this.setState({\n        cart: this.state.cart.concat([item]),\n        quantities: this.state.quantities.concat([1.0])\n      })\n    }\n  }\n\n  /**\n  * Removes the item completely from the cart.\n  * @param item : item to be removed from cart\n  */\n  removeItem(item) {\n    if (this.state.cart.includes(item)) {\n      if (this.state.cart.length == 1) { // if last in cart, clear\n        this.setState({cart: [], quantities: []})\n      } else {\n        var index = this.state.cart.indexOf(item)\n        var cart = this.state.cart\n        cart.splice(index,1)\n        var quantities = this.state.quantities\n        quantities.splice(index,1)\n        this.setState({cart: cart, quantities: quantities})\n      }\n    }\n  }\n\n  /**\n  * Reduces item quantity by one.\n  * @param item : item whose quantity is to be updated\n  */\n  removeOne(item) {\n    if (this.state.cart.includes(item)) {\n      var index = this.state.cart.indexOf(item)\n      var holder = this.state.quantities\n      holder[index] -= 1\n      this.setState({quantities: holder});\n    }\n  }\n\n  /**\n  * Totals the cost of the items in the cart, taking into account the quantities\n  * of each.\n  * @return subtotal of cart\n  */\n  getSubtotal() {\n    var subtotal = 0\n    for (var i=0; i < this.state.cart.length; i++) {\n      var item = this.state.cart[i]\n      if (item.onSale == \"True\") {\n        subtotal += (item.price * (1 - SALE_PERCENT/100)) * this.state.quantities[i]\n      } else {\n        subtotal += item.price * this.state.quantities[i]\n      }\n    }\n    return subtotal\n  }\n\n  /**\n  * Totals the cost of the tax, given the subtotal.\n  * @param subtotal of items in cart\n  * @return cost of tax\n  */\n  getTax(subtotal) {\n    var taxToPercent = TAX_PERCENT/100\n    return (taxToPercent * subtotal)\n  }\n\n  /**\n  * Totals the cost of the cart, taking into account subtotal, tax, and shipping.\n  * @param subtotal of items in cart\n  * @param tax to be added\n  * @return total of cart\n  */\n  getTotal(subtotal, tax) {\n    if (subtotal == 0) { // if nothing in cart, it's weird to charge for shipping, so return 0\n      return 0\n    }\n    return subtotal + tax + SHIPPING_COST\n  }\n\n  renderCart(subtotal, tax, total) {\n    return (\n      <span>\n        {this.renderCartItems()}\n        <h3>subtotal: ${subtotal.toFixed(2)}</h3>\n        <h4>tax ({TAX_PERCENT}%): ${tax.toFixed(2)}</h4>\n        <h4>shipping: ${SHIPPING_COST.toFixed(2)}</h4>\n        <h2>total: ${total.toFixed(2)}</h2>\n      </span>\n    )\n  }\n\n  renderProduct(item) {\n    return (<Product key={item.name}\n              item={item}\n              addToCartCB={this.addToCart.bind(this)}\n              redirectCB={this.renderProductPage.bind(this)}\n              sale={SALE_PERCENT}/>)\n  }\n\n  render() {\n    var subtotal = this.getSubtotal()\n    var tax = this.getTax(subtotal)\n    var total = this.getTotal(subtotal, tax)\n\n    // based on the url route, determine which page to show\n    return (\n      <Switch>\n\n        <Route path=\"/product\">\n          {this.renderProduct(props.location.state.item)}\n          <div id=\"shopping-cart\">\n            <span className=\"align-text-svg\"><h1>shopping bag</h1><svg height=\"35\" viewBox=\"0 0 21 21\" width=\"35\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\" fill=\"none\" stroke=\"#2a2e3b\" stroke-linecap=\"round\" stroke-linejoin=\"round\" transform=\"translate(4 4)\"/></svg>\n            </span>\n            {this.renderCart(subtotal, tax, total)}\n            <Link to=\"/checkout\" className=\"unstyled-link\">checkout</Link>\n          </div>\n        </Route>\n\n        <Route path=\"/checkout\">\n          <h1>checkout page</h1>\n          <div id=\"shopping-cart\">\n            {this.renderCart(subtotal, tax, total)}\n          </div>\n        </Route>\n\n        <Route path=\"/\">\n          <div className=\"app-container\">\n              <div id=\"product-list\">\n                {this.renderList()}\n              </div>\n              <div id=\"shopping-cart\">\n                <span className=\"align-text-svg\"><h1>shopping bag</h1><svg height=\"35\" viewBox=\"0 0 21 21\" width=\"35\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m2.42575356.50254623 8.09559774-.00228582c.5209891-.0001471.9548019.39973171.9969972.91900928l.8938128 10.99973961c.0447299.5504704-.3652538 1.0329756-.9157242 1.0777056-.0269414.0021892-.0539605.0032851-.0809907.0032851h-9.83555122c-.55228475 0-1-.4477152-1-1 0-.0255993.00098299-.0511891.00294679-.076713l.84614072-10.99745378c.0400765-.52088193.4743495-.92313949.99677087-.92328699zm7.07424644 3.64272599v1c0 1.10456949-1.8954305 1.35472778-3 1.35472778s-3-.3954305-3-1.5v-1\" fill=\"none\" stroke=\"#2a2e3b\" stroke-linecap=\"round\" stroke-linejoin=\"round\" transform=\"translate(4 4)\"/></svg>\n                </span>\n                {this.renderCart(subtotal, tax, total)}\n                <Link to=\"/checkout\" className=\"button unstyled-link\">checkout</Link>\n              </div>\n\n          </div>\n        </Route>\n\n      </Switch>\n\n    );\n  }\n}\n// <button onClick={this.goToCheckout()}>checkout</button>\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}